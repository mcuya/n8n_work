{"updatedAt":"2025-11-05T14:04:33.078Z","createdAt":"2025-11-05T12:21:16.791Z","id":"CbAknXqccF9qiMrL","name":"SistemaRAGEstandar","active":false,"isArchived":false,"nodes":[{"parameters":{"formTitle":"Carga Documento","formFields":{"values":[{"fieldLabel":"docuemntoo","fieldType":"file"}]},"options":{}},"type":"n8n-nodes-base.formTrigger","typeVersion":2.3,"position":[-320,208],"id":"cd2c6f3d-55a3-441d-abaf-ee3f3db5d5cb","name":"On form submission","webhookId":"af3912f4-be26-4d83-8de2-a4515552657b"},{"parameters":{"mode":"insert","embeddingBatchSize":250,"options":{}},"type":"@n8n/n8n-nodes-langchain.vectorStorePGVector","typeVersion":1.3,"position":[0,0],"id":"c4a97412-f5c7-4b0d-a935-07122b165f6b","name":"Postgres PGVector Store","credentials":{"postgres":{"id":"d53NEEOjDqHRzRm6","name":"Postgres account 2"}}},{"parameters":{"model":"text-embedding-3-large","options":{}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[208,816],"id":"b2eb737d-53df-43a6-8386-abb518995aeb","name":"Embeddings OpenAI","credentials":{"openAiApi":{"id":"nGnVyaNNhuv5AM6t","name":"OpenAi FMCR"}}},{"parameters":{"dataType":"binary","textSplittingMode":"custom","options":{}},"type":"@n8n/n8n-nodes-langchain.documentDefaultDataLoader","typeVersion":1.1,"position":[96,224],"id":"b269dba2-bbee-4e4c-bc6e-23717de2fcad","name":"Default Data Loader"},{"parameters":{"chunkOverlap":250,"options":{}},"type":"@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter","typeVersion":1,"position":[176,432],"id":"0fcb8947-f8f2-430e-874f-947b06a785dc","name":"Recursive Character Text Splitter"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.chatTrigger","typeVersion":1.3,"position":[544,0],"id":"37b8f5af-81df-426b-8c41-1b569db92937","name":"When chat message received","webhookId":"289996f4-ee92-4fec-9441-3be46dfce1ad"},{"parameters":{"options":{"systemMessage":"=# Rol: Asistente Legal\n\n## Descripción\nEres un asistente legal diseñado para ayudar a un abogado a consultar información contenida en documentos legales internos.  \nDebes recuperar, analizar y entregar respuestas precisas, claras y fundamentadas basadas únicamente en los documentos disponibles.  \nMantén siempre un tono profesional y formal, y prioriza la exactitud legal en todas tus respuestas.  \n\nTus respuestas deben de ser cortas y puntuales.\n\nSi no conoces la respuesta, responde que no dispones de la información.\n\n\n\n## Capacidades\n- Búsqueda y recuperación de información legal relevante.  \n- Respuestas concisas y con fundamento en los documentos disponibles.  \n- Inclusión de referencia del documento utilizado para responder.  \n- Identificación de ausencia de información en los documentos.  \n- Mantener confidencialidad y precisión en todas las respuestas.  \n\n\n## Comportamiento\n1. Recepción de la consulta: Recibe la pregunta o solicitud del abogado.  \n2. Búsqueda de información en la base de conocimiento para encontrar información relevante en los documentos.  \n3. Generación de la respuesta:  \n   - Si encuentras la información:  \n     - Proporciona un resumen conciso, claro y preciso.  \n     - Incluye la referencia del documento donde encontraste la información (nombre o identificación del documento y sección/cláusula si aplica).  \n   - Si no encuentras la información:  \n     - Responde únicamente con:  \n       ```\n       No puedo encontrar la respuesta en los recursos disponibles.\n       ```\n4. Confidencialidad: No reveles información fuera de lo que esté contenido en los documentos.  \n5. Tono: Profesional, formal, claro y directo.  \n\n## Ejemplo\nPregunta del abogado:  \n> ¿Cuál es el procedimiento de terminación anticipada del contrato de arrendamiento?\n\nRespuesta del asistente (ejemplo):  \n> Según el Contrato de Arrendamiento - Cláusula 12, el contrato puede ser terminado anticipadamente por cualquiera de las partes notificando con al menos 30 días de antelación y cumpliendo con el pago proporcional de las obligaciones pendientes.  \n> Referencia: Contrato_Arrendamiento_2025.pdf, Cláusula 12.  "}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2.2,"position":[816,0],"id":"22152ddb-e809-428a-86a1-e76363bdff44","name":"AI Agent"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4.1-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[768,224],"id":"dde4cab5-0a1e-4499-b168-c7d31f7eb27d","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"nGnVyaNNhuv5AM6t","name":"OpenAi FMCR"}}},{"parameters":{"contextWindowLength":10},"type":"@n8n/n8n-nodes-langchain.memoryBufferWindow","typeVersion":1.3,"position":[896,224],"id":"0cd78489-06c6-4bf1-b495-7e4223dceda4","name":"Simple Memory"},{"parameters":{"mode":"retrieve-as-tool","toolDescription":"Aqui puedes tomar los documentos cargados como base de informacion","options":{}},"type":"@n8n/n8n-nodes-langchain.vectorStorePGVector","typeVersion":1.3,"position":[1024,224],"id":"92c766f8-d9f6-4c62-9871-24df91d45e32","name":"Postgres PGVector Store1","credentials":{"postgres":{"id":"d53NEEOjDqHRzRm6","name":"Postgres account 2"}}}],"connections":{"On form submission":{"main":[[{"node":"Postgres PGVector Store","type":"main","index":0}]]},"Embeddings OpenAI":{"ai_embedding":[[{"node":"Postgres PGVector Store","type":"ai_embedding","index":0},{"node":"Postgres PGVector Store1","type":"ai_embedding","index":0}]]},"Default Data Loader":{"ai_document":[[{"node":"Postgres PGVector Store","type":"ai_document","index":0}]]},"Recursive Character Text Splitter":{"ai_textSplitter":[[{"node":"Default Data Loader","type":"ai_textSplitter","index":0}]]},"When chat message received":{"main":[[{"node":"AI Agent","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"AI Agent","type":"ai_languageModel","index":0}]]},"Simple Memory":{"ai_memory":[[{"node":"AI Agent","type":"ai_memory","index":0}]]},"Postgres PGVector Store1":{"ai_tool":[[{"node":"AI Agent","type":"ai_tool","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":{"templateCredsSetupCompleted":true},"pinData":{},"versionId":"732ef239-1030-4c0c-8618-2c908f952aaf","triggerCount":0,"shared":[{"updatedAt":"2025-11-05T12:21:16.791Z","createdAt":"2025-11-05T12:21:16.791Z","role":"workflow:owner","workflowId":"CbAknXqccF9qiMrL","projectId":"qKHJHnveidvROPB6"}],"tags":[]}