{"updatedAt":"2026-02-03T20:11:36.315Z","createdAt":"2026-01-27T21:04:28.664Z","id":"xNnu8GkrA3YflwSw","name":"SistemaRAGEstandarStock","active":false,"isArchived":false,"nodes":[{"parameters":{"formTitle":"Carga Documento","formFields":{"values":[{"fieldLabel":"docuemntoo","fieldType":"file"}]},"options":{}},"type":"n8n-nodes-base.formTrigger","typeVersion":2.3,"position":[-736,144],"id":"2c7ac629-f0bf-4551-a3cf-b792e68215c1","name":"On form submission","webhookId":"f5051b60-a37f-488a-a89a-3cef8ae492e0"},{"parameters":{"mode":"insert","tableName":"n8n_vectors_inv","embeddingBatchSize":250,"options":{}},"type":"@n8n/n8n-nodes-langchain.vectorStorePGVector","typeVersion":1.3,"position":[-336,-64],"id":"5bfe61ae-3589-41fd-a0b3-7dafcd0f22f6","name":"Postgres PGVector Store","credentials":{"postgres":{"id":"d53NEEOjDqHRzRm6","name":"Postgres account 2"}}},{"parameters":{"model":"text-embedding-3-large","options":{}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[160,816],"id":"9cbb34e6-7174-4f3f-94e2-b79a1636d19b","name":"Embeddings OpenAI","credentials":{"openAiApi":{"id":"nGnVyaNNhuv5AM6t","name":"OpenAi FMCR"}}},{"parameters":{"dataType":"binary","textSplittingMode":"custom","options":{}},"type":"@n8n/n8n-nodes-langchain.documentDefaultDataLoader","typeVersion":1.1,"position":[-208,160],"id":"81bf1660-6de5-438a-b05d-41a68f84315e","name":"Default Data Loader"},{"parameters":{"chunkOverlap":250,"options":{}},"type":"@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter","typeVersion":1,"position":[-176,368],"id":"bd2836c6-92ef-4b49-84a2-382814224de3","name":"Recursive Character Text Splitter"},{"parameters":{"availableInChat":true,"options":{}},"type":"@n8n/n8n-nodes-langchain.chatTrigger","typeVersion":1.3,"position":[544,0],"id":"6f6cc909-a38a-4e32-8ca5-d514d5081f62","name":"When chat message received","webhookId":"c0fd8ae5-efc8-4c43-9f1d-ab19cb55abb7"},{"parameters":{"options":{"systemMessage":"=# Rol: Asistente\n\n## Descripción\nEres un asistente diseñado para ayudar  consultar información contenida en documentos  internos.  \nDebes recuperar, analizar y entregar respuestas precisas, claras y fundamentadas basadas únicamente en los documentos disponibles.  \nMantén siempre un tono profesional y formal, y prioriza la exactitud en todas tus respuestas.  \n\nTus respuestas deben de ser cortas y puntuales.\n\nSi no conoces la respuesta, responde que no dispones de la información.\n\n\n\n## Capacidades\n- Búsqueda y recuperación de información relevante.  \n- Respuestas concisas y con fundamento en los documentos disponibles.  \n- Inclusión de referencia del documento utilizado para responder.  \n- Identificación de ausencia de información en los documentos.  \n- Mantener confidencialidad y precisión en todas las respuestas.  \n\n\n## Comportamiento\n1. Recepción de la consulta: Recibe la pregunta o solicitud dela persona.\n2. Búsqueda de información en la base de conocimiento para encontrar información relevante en los documentos.  \n3. Generación de la respuesta:  \n   - Si encuentras la información:  \n     - Proporciona un resumen conciso, claro y preciso.  \n     - Incluye la referencia del documento donde encontraste la información (nombre o identificación del documento y sección/cláusula si aplica).  \n   - Si no encuentras la información:  \n     - Responde únicamente con:  \n       ```\n       No puedo encontrar la respuesta en los recursos disponibles.\n       ```\n4. Confidencialidad: No reveles información fuera de lo que esté contenido en los documentos.  \n5. Tono: Profesional, formal, claro y directo.  \n\n  "}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2.2,"position":[800,-16],"id":"05afe0d1-cbae-4834-a898-2ed97accbc7e","name":"AI Agent"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4.1-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[768,224],"id":"1b75430c-774b-4d56-8790-fe0acdfad93f","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"nGnVyaNNhuv5AM6t","name":"OpenAi FMCR"}}},{"parameters":{"contextWindowLength":10},"type":"@n8n/n8n-nodes-langchain.memoryBufferWindow","typeVersion":1.3,"position":[896,224],"id":"7042999b-595b-4e27-94a6-720e6a51d66a","name":"Simple Memory"},{"parameters":{"mode":"retrieve-as-tool","toolDescription":"Aqui puedes tomar los documentos cargados como base de informacion","tableName":"n8n_vectors_inv","options":{}},"type":"@n8n/n8n-nodes-langchain.vectorStorePGVector","typeVersion":1.3,"position":[1024,224],"id":"66d8da24-8242-44be-82c2-6a1cdf2e4c3b","name":"Postgres PGVector Store1","credentials":{"postgres":{"id":"d53NEEOjDqHRzRm6","name":"Postgres account 2"}}}],"connections":{"On form submission":{"main":[[{"node":"Postgres PGVector Store","type":"main","index":0}]]},"Embeddings OpenAI":{"ai_embedding":[[{"node":"Postgres PGVector Store","type":"ai_embedding","index":0},{"node":"Postgres PGVector Store1","type":"ai_embedding","index":0}]]},"Default Data Loader":{"ai_document":[[{"node":"Postgres PGVector Store","type":"ai_document","index":0}]]},"Recursive Character Text Splitter":{"ai_textSplitter":[[{"node":"Default Data Loader","type":"ai_textSplitter","index":0}]]},"When chat message received":{"main":[[{"node":"AI Agent","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"AI Agent","type":"ai_languageModel","index":0}]]},"Simple Memory":{"ai_memory":[[{"node":"AI Agent","type":"ai_memory","index":0}]]},"Postgres PGVector Store1":{"ai_tool":[[{"node":"AI Agent","type":"ai_tool","index":0}]]}},"settings":{"executionOrder":"v1","availableInMCP":false},"staticData":null,"meta":{"templateCredsSetupCompleted":true},"pinData":{},"versionId":"18cc20e1-7def-4e78-ba22-9d80c479c425","activeVersionId":null,"triggerCount":0,"shared":[{"updatedAt":"2026-01-27T21:05:05.747Z","createdAt":"2026-01-27T21:05:05.747Z","role":"workflow:owner","workflowId":"xNnu8GkrA3YflwSw","projectId":"qKHJHnveidvROPB6"}],"activeVersion":null,"tags":[]}